:root {
    --color-background-primary: hsl(0, 0%, 7%);
    --color-text-primary: hsl(240, 1%, 59%);
    --color-white: hsl(0, 0%, 100%);
    --font-family: "Sora", Verdana, Geneva, Tahoma, sans-serif;
    --section-spacing: clamp(0.25rem, 0.04rem + 1.07vw, 1rem)
        clamp(0.25rem, -1.11rem + 6.79vw, 5rem);
    --font-weight-heavy: 700;
    --max-width-breakpoint: 1440px;
    --border-radius-default: 0.25rem;
    --neutral-800: hsl(0, 0%, 15%);
    --neutral-500: hsl(240, 3%, 46%);
    --red-500: hsl(354, 63%, 57%);
    --green-500: hsl(140, 63%, 57%);
    --yellow-400: hsl(49, 85%, 70%);
}

body {
    margin: 0;
    padding: 0;
}

.wrapper {
    display: flex;
    flex-direction: column;
    justify-content: center;
    color: var(--color-text-primary);
    background-color: var(--color-background-primary);
    padding: var(--section-spacing);
    margin: 0 auto;
    font-family: var(--font-family);
    min-height: 100dvh;
    max-width: var(--max-width-breakpoint);
}

@layer header {
    .header {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-between;
        padding: var(--section-spacing);
        @media only screen and (width >= 376px) and (width < 636px) {
            & {
                justify-content: center;
            }
        }
    }

    .personal-best {
        display: flex;
        align-items: center;
        column-gap: 0.5rem;
    }

    .personal-best__label--desktop {
        @media only screen and (width < 376px) {
            & {
                display: none;
            }
        }
    }

    .personal-best__label--mobile {
        @media only screen and (width >= 376px) {
            & {
                display: none;
            }
        }
    }

    .personal-best__wpm {
        color: var(--color-white);
        font-weight: var(--font-weight-heavy);
    }
}

@layer list {
    .list-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: var(--section-spacing);
    }

    .list {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        list-style-type: none;
        padding: 0;
    }

    .list--col {
        flex-direction: column;
    }

    .list--col-gap {
        column-gap: clamp(1rem, 0.71rem + 1.43vw, 2rem);
    }

    .list__item--row {
        display: flex;
        align-items: center;
    }

    .list__item--col-mobile {
        @media only screen and (width < 376px) {
            & {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
        }
    }

    .list__item-label {
        color: var(--color-text-primary);
        margin-right: clamp(0rem, -0.14rem + 0.71vw, 0.5rem);
    }

    .list__item-label--sm {
        font-size: 0.9rem;
    }

    .list__item-value {
        font-size: clamp(1rem, 0.95rem + 0.268vw, 1.2rem);
        font-weight: var(--font-weight-heavy);
        color: var(--color-white);
    }

    .list__item-value--red {
        color: var(--red-500);
    }

    .list__item-value--yellow {
        color: var(--yellow-400);
    }
}

@layer textarea {
    .textarea {
        position: absolute;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        padding: 0.5rem;
        background-color: var(--neutral-800);
        border-radius: var(--border-radius-default);
        transform: translateX(-65%);
        transition: opacity 0.5s ease-in, transform 0.5s ease-in;
        max-width: 200px;
    }

    .textarea--hidden {
        content-visibility: hidden;
        opacity: 0;
        transform: translateX(-100%);
        transition: opacity 0.5s ease-out, transform 0.5s ease-out,
            content-visibility 0.5s allow-discrete;
    }

    .textarea__input {
        min-height: clamp(5.63rem, 5.45rem + 0.89vw, 6.25rem);
        color: var(--color-text-primary);
        background-color: inherit;
        border: 1px solid var(--color-text-primary);
        border-radius: var(--border-radius-default);
        outline: none;
        font-family: inherit;
        resize: none;
        padding: 0.25rem;
    }
}

@layer button {
    .button {
        font-family: inherit;
        background-color: transparent;
        color: var(--color-text-primary);
        border: none;
        cursor: pointer;
    }

    .button:hover {
        color: var(--color-white);
        font-size: 0.9rem;
        transition: font-size 0.3s ease-in;
    }

    .button--active,
    .button--active:hover {
        color: var(--color-white);
        font-size: 0.9rem;
        font-weight: var(--font-weight-heavy);
    }

    .button--restart {
        display: flex;
        align-items: center;
        gap: 5px;
        padding: clamp(0.313rem, 0.25rem + 0.28vw, 0.5rem)
            clamp(0.5rem, 0.32rem + 0.75vw, 1rem);
        background-color: var(--neutral-800);
        color: var(--color-white);
        border-radius: var(--border-radius-default);
        font-weight: 600;
    }

    .button--bg-white,
    .button--bg-white:hover {
        background-color: var(--color-white);
        color: var(--neutral-800);
    }

    .button--center {
        margin: 0 auto;
    }

    .button__icon {
        width: 1rem;
        height: 1rem;
    }

    .button__icon--black {
        filter: brightness(0);
    }
}

@layer test {
    .test {
        display: grid;
        padding: 0.5rem clamp(0.25rem, -1.11rem + 6.79vw, 5rem);
        grid-template-areas: "overlay";
        margin: 0;
        line-height: 1.5;
        height: calc(3lh);
        overflow: hidden;
        font-size: 2rem;
    }

    .test__passage {
        display: flex;
        flex-wrap: wrap;
        grid-area: overlay;
        border-radius: var(--border-radius-default);
        padding: 0 1rem;
        margin: 0;
        height: fit-content;
    }

    .test__grid-item {
        grid-area: overlay;
        height: inherit;
    }

    .test__input {
        width: 100%;
        background-color: transparent;
        color: transparent;
        border: none;
        border-radius: var(--border-radius-default);
        resize: none;
        overflow-y: hidden;
        padding: 0;
        margin: 0;
        height: calc(100%);
    }

    .test__input:focus {
        outline: 1px solid var(--neutral-500);
        outline-offset: 1px;
    }
}

@layer restart {
    .restart {
        padding: 2rem 0;
        margin: var(--section-spacing);
    }
}

@layer dialog {
    body:has(.dialog[open]) {
        overflow: hidden;
    }

    .dialog {
        background-color: transparent;
        border: none;
        text-align: center;
    }

    .dialog--default {
        &::backdrop {
            background-image: url("./assets/images/pattern-star-1.svg"),
                url("./assets/images/pattern-star-2.svg");
            background-repeat: no-repeat;
            background-position: right 20% center, top 20% left 20%;
            backdrop-filter: blur(5px);
        }

        @media only screen and (width < 376px) {
            &::backdrop {
                background-position: right 10% center, top 10% left 10%;
            }
        }
    }

    .dialog--best::backdrop {
        background-image: url("./assets/images/pattern-confetti.svg");
        background-repeat: no-repeat;
        background-position: bottom;
        backdrop-filter: blur(5px);
    }

    .dialog__image {
        width: 2.5rem;
        height: 2.5rem;
    }

    .dialog__image--green-effect {
        border: 6px solid hsla(140, 63%, 57%, 0.3);
        outline: 6px solid hsla(140, 63%, 57%, 0.1);
        border-radius: 50%;
    }

    .dialog__title {
        color: var(--color-white);
    }

    .dialog__subtitle {
        color: var(--color-text-primary);
    }
}

@layer footer {
    .footer {
        padding: var(--section-spacing);
        text-align: center;
    }

    .attribution__link {
        color: var(--color-white);
    }
}

@layer {
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip-path: inset(50%);
        white-space: nowrap;
        border: 0;
    }

    .correct {
        color: var(--green-500);
    }

    .incorrect {
        color: var(--red-500);
        text-decoration: underline;
        text-underline-offset: 5px;
    }

    .cursor {
        display: inline-block;
        height: 1.6cap;
        width: 3px;
        border-radius: var(--border-radius-default);
        background-color: var(--yellow-400);
        animation: 1s infinite blink;
        vertical-align: text-top;
        margin: 0 1px;
    }

    @keyframes blink {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }
}
